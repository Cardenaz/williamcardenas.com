<!doctype html>







<html
  class="not-ready lg:text-base"
  style="--bg:#faf8f1"
  lang="en-us"
  dir="ltr"
><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>§115 charge density - William Cárdenas</title>

  
  <meta name="theme-color" />

  <meta name="description" content="This section deals with the derivation of the current density for charges particles in a magnetic field.
Why do we begin with:
$$
\delta H = -(1/c) \int \vec{j} \cdot \vec{A} dV \ ?
$$
Because the Lagrangian for a charged particle in a magnetic field is $L = \frac{1}{2}m\dot{x}^2 &#43; q \dot{x} \cdot A - q \phi$.
Why does the Lagrangian look like that? What is the perceptual base of this expression?" />
  <meta name="author" content="William Cárdenas" /><link rel="preload stylesheet" as="style" href="http://localhost:1313/main.min.css" />

  
  <link rel="preload" as="image" href="http://localhost:1313/theme.png" />

  <link rel="preload" as="image" href="https://williamcardenas.com/images/avatar.png" />

  <link rel="preload" as="image" href="http://localhost:1313/twitter.svg" /><link rel="preload" as="image" href="http://localhost:1313/github.svg" />

  <script
    defer
    src="http://localhost:1313/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>

  
  <link
    rel="icon"
    href="http://localhost:1313/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="http://localhost:1313/apple-touch-icon.png"
  />

  <meta name="generator" content="Hugo 0.152.2">


</head>
<body
    class="bg-(--bg) text-black antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent] dark:text-white"
  ><header
  class="mx-auto flex h-[4.5rem] max-w-(--w) px-8 whitespace-nowrap lg:justify-center"
>

  <div class="relative z-50 flex items-center ltr:mr-auto rtl:ml-auto">
    
    <div class="flex flex-col">
      <div class="flex flex-row"> 
    <a
      class="-translate-y-[1px] text-2xl font-medium"
      href="http://localhost:1313/"
      >William Cárdenas</a
    >
  <div
      class="btn-dark text-[0px] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
</div>
<p class="site-quote">Man is the measure of all things, epistemologically.</p>


 </div>


  </div>

  <div
    class="btn-menu relative z-50 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden ltr:-mr-8 rtl:-ml-8"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full flex-col justify-center bg-(--bg) pb-16 duration-200 select-none lg:static lg:h-auto lg:flex-row lg:bg-transparent! lg:pb-0 lg:transition-none"
  ><nav
      class="mt-12 flex justify-center space-x-10 lg:mt-0 lg:items-center ltr:lg:ml-14 rtl:space-x-reverse rtl:lg:mr-14 dark:invert"
    >
      <a
        class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/WilliamCar96"
        target="_blank"
        rel="me"
      >twitter</a>
      <a
        class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/cardenaz"
        target="_blank"
        rel="me"
      >github</a>
    </nav>
  </div>
</header>
<main
      class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] max-w-(--w) px-8 pt-14 pb-16"
    ><article>
  <header class="mb-14">
    <h1 class="my-0! pb-2.5">§115 charge density</h1><div class="text-xs antialiased opacity-60"><time>Dec 11, 2025</time></div></header>

  <section><p>This section deals with the derivation of the current density for charges particles in a magnetic field.</p>
<p>Why do we begin with:</p>
<p>$$
\delta H = -(1/c) \int \vec{j} \cdot \vec{A} dV \ ?
$$</p>
<p>Because the Lagrangian for a charged particle in a magnetic field is $L = \frac{1}{2}m\dot{x}^2 + q \dot{x} \cdot A - q \phi$.</p>
<p>Why does the Lagrangian look like that? What is the perceptual base of this expression?</p>
<p>Starting from E &amp; M:</p>
<p>$$
E = - \nabla \phi - \frac{\partial A}{\partial t},  B = \vec{\nabla} \times \vec{A}
$$</p>
<p>The perceptual base is the following: we do not &ldquo;see&rdquo; electric or magnetic fields, but we do see forces on charges. From experiment we know that magnetic fields are closed loops, they do not have a beginning or end, i.e., there is no net difference of field lines at any point on the loop. Mathematically this translates to the statement: $\vec{\nabla} \cdot \vec{B} = 0$. I would think this is why we sometimes say that a vector field $F$ is <em>solenoidal</em> in a domain $D$ if $div \ F = 0$ in $D$. From the standard vector differential identities we know that $\nabla \cdot (\nabla \times F) = 0$, or in words, &ldquo;the divergence of a curl is zero.&rdquo; We can then express the magnetic field vector as a curl of some arbitrary vector, $\vec{B} = \nabla \times A$.</p>
<p>Ok so we understand the magnetic field expression but what about E? Well, the first thing we know is that, experimentally, a changing magnetic field produces electric fields. The second thing is that these electric fields circulate around the magnetic loop. What is meant by circulate? Think of being dragged along the massive rotating ring in the scene called &ldquo;the Maelstrom&rdquo; in <em>Pirates of the Caribbean: At World&rsquo;s End</em>, you are the electric field in this case. That clears it up right? The field is circulating = the field has curl! A proper guess would then be $\nabla \times E \propto \frac{\partial B}{\partial t}$. Now since Faraday observed that the induced current flows in a direction that opposes the magnetic change we conclude $\nabla \times E = - \frac{\partial B}{\partial t}$ because otherwise energy conservation would be in distress.</p>
<p>$$
\nabla \times E = -\nabla \times \frac{\partial A}{\partial t}
$$
$$
\nabla \times (E + \frac{\partial A}{\partial t}) = 0
$$
And again we make use of a standard vector identity when the curl grad is zero $\nabla \times (\nabla \phi) = 0$:
$$
E + \frac{\partial A}{\partial t} = -\nabla \phi \to E = -\nabla \phi - \frac{\partial A}{\partial t}
$$</p>
<p>(a minus sign for the $\nabla \phi$ is chosen because the e-field points from high to low.)</p>
<p>Now going back to our Lagrangian, we know that the EOM must be
$$
m\ddot{x} = q(E +  \dot{x} \times B)
$$</p>
<p>We can deduce quickly that the potential due to the electric field needs to be $q \phi$, then since the magnetic force depends on velocity, the potential needs some expression that depends on $\dot{x}$.</p>
<p>Since we are varying the system by its magnetic/electric part, $\delta H = -\delta L$.</p>
<p>In classical theory the Hamiltonian becomes:
$$
H = \frac{1}{2m}(\vec{p}-\frac{e}{c} \vec{A})^2 + e \phi
$$</p>
<p>and when we transition to QM we replace the $\vec{p}$ with $-i\hbar \nabla = \hat{p}$:</p>
<p>$$</p>
<p>$$</p>
</section>

  <nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg leading-[1.2]! *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  ><a class="ltr:pr-3 rtl:pl-3" href="http://localhost:1313/posts/genusofam/"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>The Genus of Angular Momentum</span></a
    ><a
      class="justify-end pl-3 ltr:ml-auto rtl:mr-auto"
      href="http://localhost:1313/posts/popper/"
      ><span>Realism and The Aim of Science - Preface 1956</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a
    ></nav></article></main>
    <script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    processEnvironments: true
  },
  options: {
    skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
  },
  startup: {
    pageReady: () => {
      
      MathJax.typesetPromise();
      return MathJax.startup.defaultPageReady();
    }
  }
};
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<footer
  class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"
>
  <div class="mr-auto">&copy;2026
    <a class="link" href="http://localhost:1313/">William Cárdenas</a></div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    ></a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    ></a
  >
</footer>
</body>
</html>
